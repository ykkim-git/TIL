# router push와 replace 비교

## 상황

서비스 내에서 **특정화면 첫 페이지**에 접근했을 때 몇가지의 조건을 만족하지 못하면
**회원가입 유도 페이지**로 보내게끔 로직이 구성되어있었음.

레거시 코드에서는 created() 라이프사이클에서 조건을 만족하지 못했을 때
**_router.push_**를 해주고 있었고 뒤로가기버튼 이미지에 클릭이벤트를 넣어 **_router.go(-2)_**를 넣어놨었다.

IOS환경에서는 문제가 없었는데 안드로이드 백버튼을 누르면 **_router.back_**과 같은 기능을 하기때문에,
안드로이드 사용자는 **회원가입 유도 페이지**에서 안드로이드 백버튼을 누르면
다시 **_router.push('/회원가입 유도 페이지')_** 로 보내지는 상황이 반복되었다.

## 해결방법

**_router.push_**는 다른 URL로 이동하며 히스토리 스택에 넣기 때문에 뒤로가기 버튼을 누르면 이전 URL로 이동하지만
**_router.replace_**는 **_router.push_**와 같은 역할을 하지만 새로운 URL을 히스토리 스택에 추가하지 않고 현재 URL을 대체하기 때문에
**_router.replace_**를 사용하였다.

## 결론

아래 코드로 적용하였다.

```js
if (회원 정책 로직을 만족하지 않음) {
  this.$router.replace('/회원가입 유도 페이지');
}
```
