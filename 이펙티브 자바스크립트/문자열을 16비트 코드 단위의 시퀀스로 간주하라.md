# 문자열을 16비트 코드 단위의 시퀀스로 간주하라

> 유니코드는 0부터 1,114,111 까지의 유일한 정수값, 즉 코드 포인트에 세상의 모든 글자 체계의 모든 문자 단위를 할당한 것이다. 오늘날 다양한 유니코드 표준 중 가장 인기있는 인코딩은 UTF-8, 16, 32 이다.

처음 유니코드를 설계한 사람들은 2^16 개의 코드 포인트 이상은 필요하지 않을거라고 생각했다.

그래서, 모든 문자를 16비트에 할당하여 사용하는 UCS-2를 사용했다.

UCS-2 인코딩은 문자열로 변환하는 비용이 저렴하고 수행 시간이 짧기 때문에 많은 언어에서 채택되었고,

자바스크립트도 마찬가지였다.

하지만 현재는 코드 포인트의 범위가 확장되어

**한 글자를 표현하기 위해 두 쌍의 코드 포인트를 사용하게 되었다.**

그래서 아래와 같이 자바스크립트의 프로퍼티와 메소드들이 고장이 났다고 한다.

```jsx
"😊 test".length; // 7

// charAt(index) : 인수번째의 문자를 읽어 낸다.
"😊 test".charAt(0); // '\uD834'
"😊 test".charAt(2); // ' '
"😊 test".charAt(3); // 't'
```

우리가 보기엔 한 글자를 차지하는 특수문자가, 코드 레벨에서는 2글자를 차지하는 것이다.

유니코드 문자열을 처리하는 앱은 서드파티 라이브러리를 사용하는 것이 정답일 수도 있다.

따라서 문자열을 처리하는 라이브러리를 사용할 때는

**해당 라이브러리의 document를 반드시 찾아봐야 한다.**
